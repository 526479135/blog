---
title: FreeCodeCamp 高级算法题 - 计算找零
date: 2017-09-02 00:04:32
tags: [FreeCodeCamp,高级,算法]
categories: FCC
---

# 更新库存 (Inventory Update)

## 题目链接
- [中文链接](https://freecodecamp.cn/challenges/inventory-update)
- [英文链接](https://freecodecamp.com/challenges/inventory-update)

## 问题解释
- 这个 `function` 接收两个二维数组参数 `arr1` 与 `arr2`。其中 `arr1` 为更新前的现有库存，`arr2` 为需要更新的内容。返回值为更新后的库存，用二维数组表示
- 如果 `arr1` 为 `[[1, 'a'], [2, 'b']]`，`arr2` 为 `[[10, 'a'], [100, 'b'], [1, 'c']]`，则返回值应为 `[[11, 'a'], [102, 'b'], [1, 'c']]`

<!--more-->

# 基本解法 - 循环
## 思路提示
- 这道题也是高级算法中相对容易的一道题，题目的逻辑其实很容易理清，但代码实现上可能会遇到一点小问题
- 两个参数，`arr1` 为现有库存，`arr2` 为需要更新的内容。如果货物存在就更新数量，否则把它加入库存
- 每个货物用一个数组表示，其中第一个元素为数量，第二个为货物名称
- 那么，我们需要做的就是遍历第二个二维数组 `arr2`，与第一个二维数组 `arr1` 中的每一项进行比较：
    - 如果 `arr2` 子数组的第二个元素可以在 `arr1` 中找到相等的，那我们就把数组中第一个数字相加
    - 如果 `arr2` 子数组的第二个元素在 `arr1` 中找不到，那我们就把这个子数组添加到 `arr1` 中
- 最后，再对 `arr1` 按照子数组第二个元素的字母顺序进行一次排序，输出结果
- 最后的排序，我们可以用数组的 `sort` 方法。但有一个细节要注意，由于 `sort` 方法的回调函数返回值有三种情况，分别是大于 0，等于 0 和小于 0。因此，我们需要比较字符串，并返回一个大于 0 的数，和一个小于 0 的数。如果你不理解这一点，请去 MDN 看一下 `sort` 的文档

## 实现
- 写代码的时候你可能会发现，上面说到的思路仿佛很容易，但实现起来却有点麻烦。我们先不讨论最后的返回值，逻辑部分，你可能会想到这样的写法：

```js
function updateInventory(arr1, arr2) {
    // 遍历 arr2
    for (var j = 0; j < arr2.length; j++) {
        // 与 arr1 进行比较
        for (var i = 0; i < arr1.length; i++) {
            if (arr1[i][1] === arr2[j][1]) {
                arr1[i][0] += arr2[j][0];
            }
            // 位置 1
        }
        // 位置 2
    }
    // 位置 3
}
```

- 我们先遍历 `arr2`，对于 `arr2` 中的每一个元素，我们都要遍历一遍 `arr1` 来进行比较。暂且不讨论复杂度的问题，我们先来想想如何实现
- 在遍历 `arr1` 的时候，我们希望它是这样工作的：
    - 只要发现第二个元素相等，我们就给 `arr1[i][0]` 加上 `arr2[j][0]`，**并跳出当前循环**
    - **如果遍历完 `arr1` 仍找不到相等的**，那么我们就要把 `arr2[j]` 添加到 `arr1`
- 你可能会想到 `return`，但 `return` 就跳出了整个 `function`。你还可能想到 `break`，

## 代码
```js
```