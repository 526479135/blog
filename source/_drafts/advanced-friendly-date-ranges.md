---
title: FreeCodeCamp 高级算法题 - 日期区间
date: 2017-09-18 22:58:49
tags: [FreeCodeCamp,高级,算法]
categories: FCC
---

# 日期区间 (Friendly Date Ranges)

## 题目链接
- [中文链接](https://freecodecamp.cn/challenges/friendly-date-ranges)

## 问题解释
- 先说一下，这道题的英文链接是不存在的。之前英文版有这道题，后来因为种种原因删除了。我们把题目稍作修改，重新发布了上来
- 这个 `function` 接收一个数组参数 `arr`，含有两个表示日期的字符串元素。返回值同样为两个字符串元素的数组，代表经过处理的日期区间
- 如果 `arr` 为 `["2003-08-15", "2009-09-21"]`，则返回值应为 `["August 15th, 2003", "September 21st, 2009"]`
- 还有一些特殊情况，要去掉可以推测出来的情况，比如当两个日期具有相同年份和月份，那么只显示一次就好。详情见题目中的描述

# 思路分析
- 别看这道题描述的内容很多，但真的没有那么复杂，重点在于理清所有的可能性，我们来一点一点的分析
- 按题意，首先我们要用月份名称代替月份数字，这个很好解决，用数组或者对象都行。月份如果不会拼的话，查查字典吧= =！
- 用序数词表示天，这个也要分情况讨论一下：
    - 如果是 `1`、`21` 和 `31` 号，结尾加上 `st` 就行。**注意 `11` 结尾是 `th`**
    - 如果是 `2` 或 `22` 号，结尾加上 `nd` 就行。**注意，不存在 `32` 号**
    - 如果是 `3` 或 `23` 号，结尾加上 `rd` 就行。**注意，不存在 `33` 号**
    - 其他情况，直接加上 `th` 就行。就这四种情况
- 关键在于后面这句话：**不要显示那些可以被推测出来的信息**，这句话是解题的关键。我们先来列举一下可能出现的情况：
    - 如果开始日期和结束日期是同年同月同日，显然我们只要显示一个日期就够了，不需要显示两个相同的
    - 如果开始日期和结束日期是同年同月不同日，那我们在第一个日期显示年月日，第二个日期只需要显示日就够了。因为年月相同，就算省略掉也不会造成误会
    - 如果开始日期和结束日期同年不同月，那么我们还是在第一个日期显示年月日，第二个日期需要显示月和日，年份可以省略
- 上面是几个比较容易分析出来的情景，题目中还提到了一种可以省略年份的情况，就是开始日期与结束日期相差小于一年，那么年份也可以省略。即使两者不同年，年份差距也不会大于 1。因此，这时候省略年份是不会造成误会的。如果你想不明白，后面会有详细的例子
- 对于年份，还需要处理一种情况，这个在题目描述中也提到了，就是当前年份是否与给出的开始/结束年份相同。原则上，在上面的判断前提下，只要出现当前年份那么都可以省略的。但需要注意处理这个特殊情况：
    - 如果开始日期是一年前，结束日期是当前年份，而且日期差小于 365/366 天。举个例子，现在是 2017 年，比如我们传入 `['2016-8-11', '2017-5-5']`，尽管它符合差距小于一年 (365 天)，但我们还是要在输出结果中包含 `2016`。原因在于，如果输出的是 `['August 8th', 'May 5th']`，那就会造成误会，因为这既可以代表 `['2017-8-8', '2018-5-5']`，也可以代表 `['2016-8-8', '2017-5-5']`
